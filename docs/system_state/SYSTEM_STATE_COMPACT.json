{
  "_schema": "SYSTEM_STATE_COMPACT_V1",
  "_description": "Compact JSON representation of AI-OS current state - single source for external agents. DERIVED STATE - Auto-generated by reconciler_v1 from Truth Sources. DO NOT EDIT MANUALLY.",
  "_version": "1.2",
  "_generated": "2025-11-27T22:40:00Z",
  "_generated_by": "reconciler_v1",
  "system": {
    "name": "AI-OS",
    "description": "Personal AI operating system with integrated GitHub and Google Workspace services",
    "repo": "edri2or-commits/ai-os",
    "branch": "main",
    "phase": "Phase 2.3 – Stabilizing the Hands (Sync & State Alignment)",
    "mode": "INFRA_ONLY",
    "automations_enabled": false,
    "sandbox_only": true
  },
  "services_summary": {
    "up": 10,
    "partial": 3,
    "planned": 1,
    "not_configured": 1,
    "broken": 0,
    "total": 15
  },
  "fitness_metrics": {
    "FITNESS_001_FRICTION": {
      "open_gaps_count": 8,
      "time_since_last_daily_context_sync_minutes": 252,
      "recent_error_events_count": 0
    },
    "FITNESS_002_CCI": {
      "active_services_count": 10,
      "total_services_count": 15,
      "recent_event_types_count": 12,
      "recent_work_blocks_count": 11,
      "pending_decisions_count": 2
    }
  },
  "recent_work": [
    {
      "timestamp": "2025-11-27T20:04:27.000000Z",
      "event_type": "PR_OPENED_SLICE_GOVERNANCE_TRUTH_BOOTSTRAP_V1",
      "summary": "PR opened for Governance Truth Layer Bootstrap V1",
      "pr_number": 21,
      "pr_url": "https://github.com/edri2or-commits/ai-os/pull/21",
      "slice_id": "SLICE_GOVERNANCE_TRUTH_BOOTSTRAP_V1"
    },
    {
      "timestamp": "2025-11-27T20:04:26.629704Z",
      "event_type": "SLICE_GITHUB_PR_AUTOMATOR_V1_COMPLETE",
      "summary": "GitHub PR Automator infrastructure complete",
      "pr_number": 20,
      "pr_url": "https://github.com/edri2or-commits/ai-os/pull/20",
      "slice_id": "SLICE_GITHUB_PR_AUTOMATOR_V1"
    },
    {
      "timestamp": "2025-11-27T16:15:55.211498Z",
      "event_type": "SLICE_2A_COMPLETE",
      "summary": "Slice 2A: Daily Context Sync + Agent Kernel + LangGraph",
      "components": ["os_core_mcp_update", "agent_kernel", "daily_context_sync_graph"]
    },
    {
      "timestamp": "2025-11-27T12:30:00Z",
      "event_type": "decision",
      "summary": "DEC-008: Governance Layer Bootstrap V1 + OS Core MCP Minimal"
    },
    {
      "timestamp": "2025-11-27T12:15:00Z",
      "event_type": "block_complete",
      "block_id": "OS_CORE_MCP_MINIMAL_V1",
      "summary": "Created OS Core MCP - unified HTTP gateway to State Layer"
    },
    {
      "timestamp": "2025-11-27T12:00:00Z",
      "event_type": "block_complete",
      "block_id": "GOVERNANCE_LAYER_BOOTSTRAP_V1",
      "summary": "Created /governance directory structure with stub measurement scripts"
    },
    {
      "timestamp": "2025-11-26T18:55:00Z",
      "event_type": "block_complete",
      "block_id": "BLOCK_SYSTEM_STATE_COMPACT_REFRESH_V2",
      "summary": "Refreshed SYSTEM_STATE_COMPACT.json (outdated 7+ hours)"
    },
    {
      "timestamp": "2025-11-26T18:50:00Z",
      "event_type": "block_complete",
      "block_id": "BLOCK_AGENT_SYNC_OVERVIEW_REFRESH_V2",
      "summary": "Updated AGENT_SYNC_OVERVIEW.md with 4 recent blocks (v0.5 → v0.6)"
    },
    {
      "timestamp": "2025-11-26T18:00:00Z",
      "event_type": "decision",
      "block_id": "BLOCK_AUTO_GAS_001_DECISION",
      "summary": "Disabled legacy Apps Script Collector_Gmail_to_Records"
    },
    {
      "timestamp": "2025-11-26T17:15:00Z",
      "event_type": "spec_update",
      "block_id": "PHASE2_24_SYNC_AGENT_SESSION_TEMPLATE_V1",
      "summary": "Created playbook for manual Sync Agent sessions using OODA loop on State Layer Blackboard"
    }
  ],
  "pending_decisions": [],
  "recent_decisions": [
    {
      "id": "DEC-010",
      "title": "Governance Truth Layer Bootstrap V1",
      "decision": "Snapshot Generation + Fitness Metrics",
      "status": "✅ Approved"
    },
    {
      "id": "DEC-009",
      "title": "Slice 2A – Daily Context Sync V1",
      "decision": "Agent Kernel + LangGraph",
      "status": "✅ Approved"
    },
    {
      "id": "DEC-008",
      "title": "Governance Layer Bootstrap + OS Core MCP",
      "decision": "Bootstrap V1 + Minimal API",
      "status": "✅ Approved"
    },
    {
      "id": "DEC-007",
      "title": "No Fixed Role Hierarchy",
      "decision": "Capabilities + Constraints model",
      "status": "✅ Approved"
    },
    {
      "id": "DEC-006",
      "title": "n8n as Automation Kernel",
      "decision": "n8n Self-Hosted",
      "status": "✅ Approved"
    }
  ],
  "git_status": {
    "branch": "main",
    "last_commit": "43b308a"
  },
  "last_daily_context_sync_utc": "2025-11-27T16:14:00.083401Z",
  "_reconciler_notes": {
    "truth_sources": [
      "governance/snapshots/GOVERNANCE_LATEST.json (system_state, services_summary, fitness_metrics, git)",
      "docs/DECISIONS_AI_OS.md (decisions status - authoritative)",
      "docs/system_state/timeline/EVENT_TIMELINE.jsonl (recent_work events)",
      "docs/system_state/registries/SERVICES_STATUS.json (services list)"
    ],
    "last_reconciliation": "2025-11-27T22:40:00Z",
    "drift_fixed": [
      "Timestamp updated (was 27.7h old)",
      "Version bumped: 1.1 → 1.2",
      "Services count fixed: 16 → 15",
      "DEC-004: moved from pending to approved",
      "DEC-006: moved from pending to approved",
      "FITNESS metrics updated from GOVERNANCE snapshot"
    ]
  }
}
