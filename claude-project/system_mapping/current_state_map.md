# Current State Map – AI-OS Repository

**Purpose:** Professional mapping of existing repository structure as of 2025-11-29  
**Methodology:** Read-only inspection using filesystem + git tools  
**Approach:** Legacy system architect mindset – facts only, no speculation  

---

## Executive Summary

**Repository:** `C:\Users\edri2\Desktop\AI\ai-os` (local) / `edri2or-commits/ai-os` (GitHub)  
**Git Branch:** `main`  
**Git HEAD:** `41581fae5e0fec02e5fff20b921f85f5a9f9c90c` (actual)  

**⚠️ DRIFT DETECTED:**  
- Truth Layer files (SYSTEM_STATE_COMPACT.json, GOVERNANCE_LATEST.json) report `last_commit: 43b308a`  
- Actual Git HEAD is `41581fae...` (different commit)  
- This is a split-brain condition documented in research files

**Current Phase:** Phase 2.3 – "Stabilizing the Hands (Sync & State Alignment)"  
**Mode:** `INFRA_ONLY` + `sandbox_only` + `automations_enabled: false`  

---

## 1. Top-Level Directory Structure

```
ai-os/
├── .git/                       # Git repository metadata
├── .gitignore                  # Git ignore rules
├── .env                        # Environment variables (excluded from git)
├── .env.template               # Environment template
├── README.md                   # Main repository documentation (detailed)
│
├── claude-project/             # [NEW] Claude Desktop project materials
├── docs/                       # Core documentation & Truth Layer
├── governance/                 # Governance Layer (DEC, EVT, snapshots)
│
├── services/                   # MCP servers and backend services
├── infra/                      # Infrastructure (n8n, Docker)
├── agents/                     # Agent documentation
├── workflows/                  # Workflow documentation
├── policies/                   # Security & operational policies
├── scripts/                    # Utility scripts
├── chat/                       # Telegram bot (unclear if active)
├── test/                       # Test fixtures
│
├── archive/                    # ✅ Archived/deprecated components
│   ├── legacy/                 # Legacy architecture (superseded)
│   │   └── ai_core/            # [ARCHIVED 2025-11-29] Pre-MCP orchestration
│   └── one-time/               # One-time utilities (completed)
│       └── tools/              # [ARCHIVED 2025-11-29] Repo initialization
│
├── [multiple root scripts]     # Start scripts, demos, tests (see Section 15)
└── [miscellaneous]             # Config files, zips, temp files
```

**Migration Notes (2025-11-29):**
- ✅ `ai_core/` archived to `archive/legacy/ai_core/` (Slice 1.2a)
- ✅ `tools/` archived to `archive/one-time/tools/` (Slice 1.2b)

---

## 2. Truth Layer & State Management

### 2.1 Truth Layer Files (Authoritative State)

**Location:** `docs/system_state/`

| File | Purpose | Status |
|------|---------|--------|
| `SYSTEM_STATE_COMPACT.json` | Derived system state snapshot | ✅ DERIVED (auto-generated by reconciler_v1) |
| `timeline/EVENT_TIMELINE.jsonl` | Append-only event log | ✅ ACTIVE |
| `registries/SERVICES_STATUS.json` | Services registry | ✅ ACTIVE |
| `outbox/` | State export directory | Directory exists, appears empty |
| `agents/AGENT_CAPABILITY_PROFILE.md` | Agent capability template | Template file |

**SYSTEM_STATE_COMPACT.json metadata:**
- Schema: SYSTEM_STATE_COMPACT_V1
- Version: 1.2
- Generated: 2025-11-27T22:40:00Z
- Generated by: reconciler_v1
- **CRITICAL:** DO NOT EDIT MANUALLY – auto-derived from Truth Sources

**Truth Sources (priority order):**
1. `governance/snapshots/GOVERNANCE_LATEST.json` (authoritative)
2. `docs/DECISIONS_AI_OS.md` (decision status)
3. `docs/system_state/timeline/EVENT_TIMELINE.jsonl`
4. `docs/system_state/registries/SERVICES_STATUS.json`

### 2.2 Governance Layer

**Location:** `governance/`

```
governance/
├── DEC/                        # Decision records (governance-specific)
│   └── DEC_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md
├── EVT/                        # Event logs (governance-specific)
│   └── EVT_GOVERNANCE_TRUTH_BOOTSTRAP_V1_20251127_174131.json
├── metrics/                    # (empty) Computed metrics storage
├── scripts/                    # Measurement scripts
│   ├── generate_snapshot.py   # ✅ OPERATIONAL (270+ lines)
│   ├── measure_friction.py    # ❌ STUB
│   ├── measure_cci.py         # ❌ STUB
│   ├── measure_tool_efficacy.py # ❌ STUB
│   └── smoke_test_truth_layer.py
├── snapshots/                  # Governance snapshots
│   ├── GOVERNANCE_LATEST.json # ✅ ACTIVE (pointer to latest)
│   └── SNAPSHOT_*.json        # Historical snapshots (6 files)
└── README.md                   # Governance documentation
```

**Snapshot Generation Status:**
- `generate_snapshot.py` is OPERATIONAL (DEC-010)
- Calculates FITNESS_001 (Friction) and FITNESS_002 (CCI) metrics
- Sources: EVENT_TIMELINE, SYSTEM_STATE_COMPACT, SERVICES_STATUS, git metadata
- Output: Timestamped snapshots + GOVERNANCE_LATEST.json pointer

**Current Metrics (from GOVERNANCE_LATEST.json):**
```json
"fitness_metrics": {
  "FITNESS_001_FRICTION": {
    "open_gaps_count": 8,
    "time_since_last_daily_context_sync_minutes": 252,
    "recent_error_events_count": 0
  },
  "FITNESS_002_CCI": {
    "active_services_count": 10,
    "total_services_count": 15,
    "recent_event_types_count": 12,
    "recent_work_blocks_count": 11,
    "pending_decisions_count": 2
  }
}
```

---

## 3. Core Documentation (`docs/`)

**Location:** `docs/`

### 3.1 Core Policy & Architecture Documents

| File | Purpose | Notes |
|------|---------|-------|
| `CONSTITUTION.md` | 9 foundational principles | Referenced in README |
| `CAPABILITIES_MATRIX.md` | 22 documented capabilities | v1.1, tracks all system capabilities |
| `DECISIONS_AI_OS.md` | Critical decisions log | 10 decisions (DEC-001 through DEC-010) |
| `SYSTEM_SNAPSHOT.md` | System state overview | Appears to be a template/doc |
| `INFRA_MAP.md` | Infrastructure mapping | Documents services & ports |

### 3.2 Specifications & Protocols

```
docs/
├── active_plans/               # Current phase plans
│   ├── PHASE2_Stabilizing_The_Hands.md
│   ├── PLAN_AI_OS_EVOLUTION.md
│   └── README.md
├── completed_plans/            # Archived plans (appears empty)
├── protocols/                  # Operational protocols
│   ├── CHAT_BOOTSTRAP_PROTOCOL_V1.md
│   ├── SLICE_TO_PR_PIPELINE_V1.md
│   └── ...
├── slices/                     # Slice specifications
│   ├── SLICE_GITHUB_PR_AUTOMATOR_V1.md
│   ├── SLICE_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md
│   ├── SLICE_DAILY_CONTEXT_SYNC_N8N_V1.md
│   └── ... (8 slice specs total)
├── runbooks/                   # Operational runbooks
│   └── END_TO_END_SLICE_TO_PR_DEMO_V1.md
├── blocks/                     # Building block specs
│   └── BLOCK_POWERSHELL_STABILITY_AND_HEALTHCHECK_V1.md
└── sync_contracts/             # Agent sync contracts
    ├── PR_CONTRACT_V1.md
    └── SLICE_SYNC_WRITE_CONTRACT_PR_V1_SPEC.md
```

### 3.3 Agent & Service Documentation

Multiple files documenting:
- Agent Gateway API specs
- Agent capability profiles
- Agent sync protocols
- Control plane specifications
- Custom GPT operator specs
- Session initialization checklists

**Observation:** Heavy emphasis on multi-agent coordination and sync protocols.

---

## 4. Services (`services/`)

**Location:** `services/`

### 4.1 MCP Servers

| Service | Port | Purpose | Status |
|---------|------|---------|--------|
| `mcp_github_client` | 8081 | GitHub API wrapper | ✅ OPERATIONAL |
| `google_workspace_client` | 8082 | Google Workspace API | ✅ OPERATIONAL (READ) |
| `os_core_mcp` | 8083 | OS Core unified gateway to State Layer | ✅ OPERATIONAL |
| `agent_kernel` | 8084 | LangGraph-based Agent Kernel | ✅ OPERATIONAL |

### 4.2 Service Details

#### `mcp_github_client/`
```
mcp_github_client/
├── api/routes_github.py        # GitHub API routes
├── core/
│   ├── mcp_client.py          # MCP client wrapper
│   └── openai_client.py       # OpenAI integration
├── models/schemas.py          # Pydantic schemas
├── main.py                    # FastAPI server
├── requirements.txt
├── README.md                  # Comprehensive documentation
├── STABILITY_AUDIT.md         # Stability improvements doc
├── STABILIZATION_SUMMARY.md
├── .env / .env.template
├── tests/
├── pytest.ini
└── run_service.bat            # Windows launcher
```

**Features:** Full GitHub integration (read, write, branches, PRs, commits)

#### `google_workspace_client/`
```
google_workspace_client/
├── api/
│   ├── routes_calendar.py
│   ├── routes_docs.py
│   ├── routes_drive.py
│   ├── routes_gmail.py
│   ├── routes_sheets.py
│   ├── routes_tasks.py
│   └── routes_github_placeholder.py
├── core/google_client.py      # Google API client
├── models/schemas.py
├── main.py
├── requirements.txt
└── README.md
```

**Features:** Google Calendar, Gmail, Drive, Docs, Sheets, Tasks (READ operations)

#### `os_core_mcp/`
```
os_core_mcp/
├── server.py                  # FastAPI server
├── reconciler.py              # State Layer reconciler_v1 (✅ OPERATIONAL)
├── smoke_test.py
├── requirements.txt
└── README.md
```

**Purpose:** Unified HTTP gateway to State Layer + reconciler for drift detection

#### `agent_kernel/`
```
agent_kernel/
├── graphs/
│   ├── daily_context_sync_graph.py  # LangGraph workflow
│   └── __init__.py
├── kernel_server.py           # FastAPI server
├── smoke_test_slice_2a.py
├── requirements.txt
└── README.md
```

**Purpose:** LangGraph-based orchestration for Daily Context Sync (DEC-009)

### 4.3 Other Services

| Service | Purpose | Notes |
|---------|---------|-------|
| `chat1_status_updater.py` | Chat1 status updater | Unclear if active |
| `claude_healthcheck.py` | Claude healthcheck | Script exists |

---

## 5. Infrastructure (`infra/`)

**Location:** `infra/n8n/`

```
infra/n8n/
├── docker-compose.yml         # n8n Docker setup
├── ENV_TEMPLATE.env          # Environment template
├── .env                      # (excluded from git)
├── workflows/                # n8n workflow exports
│   └── daily_context_sync_orchestrator_v1.json
├── data/                     # (created on first run, excluded from git)
│   ├── database.sqlite
│   └── credentials/
└── README.md
```

**Status:**
- ✅ n8n infrastructure ready (DEC-006)
- ✅ Daily Context Sync Orchestrator V1 workflow available
- ❌ No live workflows running yet (Phase 2.3 - INFRA_ONLY)
- ❌ No Google/GitHub credentials configured

**Decision:** DEC-006 (n8n as Automation Kernel - approved)

---

## 6. claude-project Materials (`claude-project/`)

**NEW DISCOVERY:** Dedicated folder for Claude Desktop project work.

```
claude-project/
├── instructions/              # Claude instructions
│   ├── ai-life-os-agentic-claude-project-kernel-instructions.md
│   └── Claude_New_Chat_Bootstrap_EN.md
├── research_claude/           # Research files (29 .md files)
│   ├── 01_architectural-blueprint_phase-3-ai-os.md
│   ├── 02_ai-life-os_deterministic-reliability.md
│   ├── ... (01 through 18)
│   ├── ai-life-os-agentic-claude-project-kernel-instructions.md
│   ├── ai-life-os-claude-project-playbook.md
│   ├── Architecting_Personal_AI_Life_OS.md
│   └── msg_019.md through msg_027.md
├── system_mapping/            # [JUST CREATED] Phase 0 mapping outputs
│   └── current_state_map.md  # (this file)
├── Knowl/                     # (duplicate of research_claude?)
├── מחסן מחקרים/              # Hebrew: "Research Warehouse"
│   ├── (duplicates + some conversation notes)
│   └── איך עובדים עם קלוד/  # Hebrew: "How to work with Claude"
├── ai-life-os-claude-project-playbook.md
├── README_Hebrew.md
├── Hallucination Guardrails for Claude Desktop Kernel (Personal AI Life OS).pdf
├── 1. Restated Context & Assumptions.pdf
└── ... (various Word/RTF docs in Hebrew)
```

**Observations:**
- **research_claude/** contains 29 research files (confirmed in project knowledge)
- **Knowl/** appears to be a duplicate or earlier version
- **מחסן מחקרים/** (Research Warehouse) has duplicates + conversation notes
- **system_mapping/** was just created for Phase 0 work
- Multiple Hebrew-language documents (instructions, checklists, roadmaps)

**Purpose:** This folder appears to be the **"Claude Desktop project root"** referenced in kernel instructions, containing all research and working materials for building the Personal AI Life OS.

---

## 7. Core AI Components (`ai_core/`)

```
ai_core/
├── action_executor.py         # Executes validated actions
├── agent_gateway.py           # Agent gateway
├── agent_gateway_server.py   # FastAPI server for gateway
├── gpt_orchestrator.py        # GPT planner integration
├── intent_router.py           # Routes user intents
├── intents_router.md          # Intent router documentation
└── ssot_writer.py            # SSOT update writer
```

**Purpose:** Core orchestration components for multi-agent system.  
**Status:** Unclear which components are active vs. legacy.

---

## 8. Agents, Workflows, Tools, Policies

### 8.1 Agents (`agents/`)

```
agents/
├── AGENTS_INVENTORY.md        # Agent inventory
└── GPT_GITHUB_AGENT.md        # GPT GitHub Agent spec
```

**Purpose:** Agent documentation and specifications.

### 8.2 Workflows (`workflows/`)

```
workflows/
├── DECISION_LOGGING_AND_SSOT_UPDATE.md
├── GITHUB_PLANNING_DRY_RUN.md
└── IRON_TEST_WF.md
```

**Purpose:** Workflow documentation (DRY RUN planning, decision logging, testing).

### 8.3 Tools (`tools/`)

```
tools/
├── repo_bootstrap_agent.py
├── repo_introspection_agent.py
├── repo_reader_base.py
├── system_init.py
└── TOOLS_INVENTORY.md
```

**Purpose:** Repository introspection and bootstrapping tools.

### 8.4 Policies (`policies/`)

```
policies/
├── HUMAN_TECH_INTERACTION_POLICY.md
└── SECURITY_SECRETS_POLICY.md
```

**Purpose:** Security and operational policies.  
**Security Policy:** Comprehensive 4-principle secrets management (No Plain Text, Never Display, Human Auth, Minimal Privilege).

---

## 9. Scripts & Utilities (`scripts/`)

```
scripts/
├── create_pr_intent.py
├── move_completed_plan.py
├── open_pr_for_branch.py
├── pr_worker.py
├── publish_slice_as_pr.py
└── validate_bootstrap_response.py
```

**Purpose:** Automation scripts for PR creation, plan management, validation.

---

## 10. Test Infrastructure (`test/`)

```
test/
└── bootstrap_responses/
    ├── bad_handshake.txt
    └── good_handshake.txt
```

**Purpose:** Test fixtures for bootstrap validation.

**Root-level test files:**
Multiple test_*.py files in root (test_e2e.py, test_gateway.py, test_slice*.py, etc.)

---

## 11. Root-Level Files

| File | Purpose | Notes |
|------|---------|-------|
| `README.md` | Main documentation | Comprehensive (2.0 version, Google Workspace integration) |
| `.gitignore` | Git exclusions | Comprehensive (secrets, env, logs, local configs) |
| `.env` / `.env.template` | Environment variables | Template provided, .env excluded from git |
| `requirements.txt` | Python dependencies | Root-level dependencies |
| `Dockerfile` / `Dockerfile.google` | Docker images | Two Dockerfiles (unclear usage) |
| `start*.py` / `start*.bat` | Service launchers | Multiple start scripts |
| `commit_msg*.txt` / `pr_body*.txt` | Git templates | Commit message and PR templates |
| Various .py files | Utilities & demos | demo_loop.py, execute_demo.py, run_*.py, etc. |
| Various .json files | Configuration/data | plan_output.json, temp_plan.json, demo_plan.json |

---

## 12. Git Status & Branches

**Current Branch:** `main`  
**HEAD Commit:** `41581fae5e0fec02e5fff20b921f85f5a9f9c90c`

**Feature Branches (from .git/refs/heads/):**
- `feature/mcp-github-client-init`
- `feature/slice_github_pr_automator_v1`
- `feature/slice_governance_truth_bootstrap_v1`
- `infra/slice-1-2a`

**Remote Branches:** 25+ PR branches in `origin/` (ai-os-pr-YYYYMMDD-HHMMSS pattern)

**⚠️ CRITICAL DRIFT:**
- Truth Layer files report: `last_commit: 43b308a`
- Actual Git HEAD: `41581fae...`
- **This is a split-brain condition** – State Layer is out of sync with actual Git state.

---

## 13. Likely Truth/State Files

**Authoritative Truth Sources:**
1. `governance/snapshots/GOVERNANCE_LATEST.json` – System state, services, fitness metrics
2. `docs/DECISIONS_AI_OS.md` – Decision status (authoritative)
3. `docs/system_state/timeline/EVENT_TIMELINE.jsonl` – Event log
4. `docs/system_state/registries/SERVICES_STATUS.json` – Services registry

**Derived State:**
- `docs/system_state/SYSTEM_STATE_COMPACT.json` – Auto-generated by reconciler_v1 (DO NOT EDIT)

**DEC Files (Decision Records):**
- `governance/DEC/DEC_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md` (only one found)

**EVT Files (Event Records):**
- `governance/EVT/EVT_GOVERNANCE_TRUTH_BOOTSTRAP_V1_20251127_174131.json` (only one found)

**Observation:** Governance DEC/EVT structure is minimal – only one record each. Decision records appear to be centralized in `docs/DECISIONS_AI_OS.md` instead.

---

## 14. Likely Automations / n8n / Infra Files

**n8n Infrastructure:**
- `infra/n8n/docker-compose.yml` – n8n Docker setup
- `infra/n8n/workflows/daily_context_sync_orchestrator_v1.json` – Workflow export

**Service Launchers:**
- `services/mcp_github_client/run_service.bat`
- Various `start*.py` and `start*.bat` in root

**Docker:**
- `Dockerfile` / `Dockerfile.google`
- `docker-compose.yml` (not found in root – only in infra/n8n/)

**Automation Scripts:**
- `scripts/publish_slice_as_pr.py`
- `scripts/pr_worker.py`

**Current Status:** INFRA_ONLY mode – infrastructure ready but no automations running.

---

## 15. Likely MCP / Claude Config Files

**MCP Server Configurations:**
- `services/mcp_github_client/config.py`
- `services/google_workspace_client/config.py`
- `services/os_core_mcp/` (appears to be config-less or uses defaults)
- `services/agent_kernel/` (appears to be config-less or uses defaults)

**claude-project Config:**
- `claude-project/instructions/ai-life-os-agentic-claude-project-kernel-instructions.md`
- `claude-project/ai-life-os-claude-project-playbook.md`

**Environment Variables:**
- `.env` (excluded from git)
- `.env.template` (template provided)
- `infra/n8n/.env` (excluded from git)
- `infra/n8n/ENV_TEMPLATE.env`
- `services/mcp_github_client/.env` / `.env.template`

**Credentials:**
- `credentials.json` / `client_secret.json` (in root – for Google OAuth)
- `token.json` (in root – OAuth token, excluded from git)

---

## 16. Other Potentially Important Structures

### 16.1 Archive (`archive/`)

```
archive/
├── FULL_ACCESS_SANDBOX.md
├── IMG_5388.PNG / IMG_5389.PNG
└── research/
    ├── Five Foundational Principles for Autonomous Infrastructure and AI Agents.pdf
    └── Shared Memory (Blackboard) vs. Event-Sourced Sessions.pdf
```

**Purpose:** Historical materials, archived research PDFs.

### 16.2 Chat (`chat/`)

```
chat/
└── telegram_bot.py
```

**Purpose:** Telegram bot integration (unclear if active).

### 16.3 Reports (`reports/`)

```
reports/
├── healthcheck_20251125_105306.json
└── healthcheck_20251126_124724.json
```

**Purpose:** Healthcheck reports (2 files, from 2025-11-25 and 2025-11-26).

### 16.4 Session & Logs

- `SESSION_SUMMARY_20251127.md` (in root)
- `EVENT_TIMELINE.jsonl` (in root – appears to be duplicate of docs/system_state/timeline/EVENT_TIMELINE.jsonl)

### 16.5 Empty/Unclear Directories

- `maybe-relevant/` – Empty (typo: should be "maybe")
- `mcp/` – Empty
- `architecture-research/` – Empty (Hebrew: "Architecture Research")

---

## 17. Open Questions & Uncertainties

### 17.1 Active vs. Legacy Components

**Uncertain:**
- Is `ai_core/` active or legacy? (action_executor, agent_gateway, gpt_orchestrator, etc.)
- Is `telegram_bot.py` in use?
- Which root-level test_*.py files are active vs. legacy?
- Are Dockerfile and Dockerfile.google in use?

**Need Clarification:**
- What is the relationship between `claude-project/research_claude/` and `claude-project/Knowl/`? (duplicate content)
- Why is there an `EVENT_TIMELINE.jsonl` in root AND in `docs/system_state/timeline/`?

### 17.2 Current vs. Target Architecture

**Observations:**
- Heavy multi-agent infrastructure (agent_gateway, gpt_orchestrator, intent_router)
- But current mode is INFRA_ONLY with automations_enabled: false
- Suggests: infrastructure built but not yet activated

**Questions:**
- Which components are Phase 2.3 (current) vs. Phase 3+ (future)?
- What is the relationship between GPT GitHub Agent (in `agents/`) and current MCP clients?

### 17.3 Drift & Reconciliation

**Known Issue:**
- ⚠️ Git HEAD (41581fae...) ≠ Truth Layer reported commit (43b308a)
- reconciler_v1 exists and is operational, but drift persists
- **Question:** Why wasn't drift auto-corrected by reconciler?

**Possible Hypotheses:**
1. Reconciler only runs on-demand (not scheduled)
2. Reconciler detects but doesn't auto-fix this specific drift type
3. Truth Layer was last reconciled before latest commit

### 17.4 Phase & Mode Clarity

**Current State:**
- Phase: 2.3 – "Stabilizing the Hands"
- Mode: INFRA_ONLY
- automations_enabled: false
- sandbox_only: true

**Questions:**
- What defines "Stabilizing the Hands"?
- What criteria must be met to move to Phase 2.4 or Phase 3?
- What does "sandbox_only" mean in practice?

### 17.5 Service Health

**Reported Metrics:**
- 10 services UP
- 3 services PARTIAL
- 1 service PLANNED
- 1 service NOT_CONFIGURED
- 0 services BROKEN

**Questions:**
- Which services are PARTIAL and why?
- Which service is PLANNED?
- Which service is NOT_CONFIGURED?
- See: `docs/system_state/registries/SERVICES_STATUS.json` for details

---

## 18. Summary & Recommendations

### 18.1 What Exists Today

**Strengths:**
1. ✅ Comprehensive Truth Layer with reconciler_v1
2. ✅ Governance Layer with operational snapshot generation
3. ✅ 4 MCP servers (GitHub, Google, OS Core, Agent Kernel)
4. ✅ n8n infrastructure ready
5. ✅ Extensive documentation (policies, protocols, slices, runbooks)
6. ✅ 29 research files in `claude-project/research_claude/`
7. ✅ Security-first approach (secrets policy, .gitignore)

**Weaknesses:**
1. ⚠️ Drift between Git HEAD and Truth Layer
2. ⚠️ Unclear which components are active vs. legacy (especially `ai_core/`)
3. ⚠️ Duplicate structures (EVENT_TIMELINE in root + docs/, research in multiple folders)
4. ⚠️ Empty directories suggest incomplete cleanup or future structure
5. ⚠️ INFRA_ONLY mode – infrastructure built but not operational

### 18.2 Architecture Pattern Observed

**Clear Pattern:**
- **Truth Layer** (Markdown + JSON + JSONL) as single source of truth
- **Governance Layer** for metrics, snapshots, decisions
- **MCP Servers** as "Hands" (GitHub, Google, OS Core, Agent Kernel)
- **Claude Desktop** as "Head" (reasoning, orchestration)
- **n8n** as automation kernel (temporal/scheduled tasks)

**Alignment with Research:**
- Matches "Semantic Microkernel" pattern from research files
- Chat→Spec→Change workflow evident in protocols/
- Dual Truth Architecture (Policy + Observed State) partially implemented
- Circuit breakers mentioned in research but not seen in code yet

### 18.3 Next Steps for Phase 0

1. ✅ **current_state_map.md** – COMPLETE (this document)
2. 📋 **target_architecture_summary.md** – Extract from 29 research files
3. 📋 **current_vs_target_matrix.md** – Map existing elements to target roles
4. 📋 **migration_plan.md** – Design slice-based migration

**Approval Required:** Wait for user confirmation before proceeding to Step 2.

---

**Document Version:** 1.0  
**Created:** 2025-11-29  
**By:** Claude Desktop (Phase 0, Step 1)  
**Method:** Read-only filesystem + git inspection  
**Confidence:** High (fact-based, no speculation beyond labeled hypotheses)