The Neuro-Symbolic Life Graph: Architectural Design for a Deterministic, Git-Backed Personal Operating SystemPhase 1: Problem Restatement and Cognitive ContextThe contemporary digital environment presents a paradoxical challenge for the solopreneur: while tools for productivity abound, the fragmentation of information across disparate silosâ€”email, Slack, project management SaaS, and note-taking appsâ€”creates a cognitive load that is particularly deleterious for individuals with Attention Deficit Hyperactivity Disorder (ADHD). The "Life Graph" project aims to resolve this by architecting a unified, machine-operable world model that bridges the gap between the "messy," non-linear nature of human thought and the structured, deterministic requirements of effective execution. This report details the design of such a system, prioritizing a "Local-First" ethos, text-based interoperability, and an AI-driven interface that functions as an executive function prosthesis.1.1 The Neurodivergent Solopreneur: A User Profile AnalysisDesigning for ADHD requires a fundamental inversion of standard user experience (UX) paradigms. Traditional productivity software assumes a user with consistent working memory, linear temporal perception, and reliable executive control. The ADHD cognitive profile, however, is characterized by variability in these domains.The Deficit of Executive FunctionExecutive function acts as the brain's management system, handling prioritization, task initiation, and emotional regulation. For the ADHD solopreneur, deficits here manifest as the "Wall of Awful"â€”a kinetic barrier to starting tasks that appear large or undefined.1 A system designed for this context must therefore minimize "activation energy." It cannot require the user to manually tag, sort, or structure data before it is captured. The system must accept raw, chaotic input (voice streams, half-formed thoughts) and perform the structuring asynchronously.Object Permanence and the "Doom Piles"A critical challenge is "digital object permanence"â€”the phenomenon where tasks or files that are not immediately visible effectively cease to exist in the user's mind.3 This leads to browser tab hoarding and the accumulation of "doom piles" (unprocessed lists). A hierarchical list view is insufficient because items buried in sub-folders are lost. A graph-based architecture addresses this by linking entities through semantic relationships. A task is not just a line item; it is connected to a person, a project, a mood, and a deadline. Retrieval can occur via any of these associative paths, mirroring the associative nature of neurodivergent thinking.4The Need for an External "Truth Layer"In the absence of a team to provide accountability or "body doubling," the solopreneur relies entirely on self-regulation. The digital system must serve as an external "Truth Layer"â€”a reliable record of reality that persists regardless of the user's fluctuating internal state. This layer must be deterministic: when the user commits a task, it must be saved exactly as intended, without the unpredictability of purely generative AI systems. This necessitates a separation of concerns: the AI (LLM) provides reasoning and structuring, but the actual state management is handled by rigid, code-based orchestration (n8n/Git).61.2 The Technical Goal: Bridging Chat to StateThe central technical challenge is translating natural languageâ€”which is ambiguous, context-dependent, and unstructuredâ€”into a rigorous graph schema.Input: "I need to email Sarah about the contract, but I'm feeling totally drained right now."Desired State Mutation:Create Task: Email Sarah re: ContractLink Entity: ]Set Context: [[Low Energy]]Log Sentiment: DrainedThis requires a sophisticated Mapping Layer that can parse intent, extract entities, and infer metadata (like energy cost) that the user implies but does not explicitly state. The system must be readable and writable by advanced LLMs (like Claude) via tools, ensuring that the "Intelligence" can interact with the "State" without corrupting it.1.3 Scope and ConstraintsTo ensure feasibility and robustness, the design adheres to the following constraints:Single User: The system is optimized for personal sovereignty, not multi-user collaboration.Text-Based Storage: The "database" is a collection of Markdown files with YAML frontmatter. This ensures future-proof access (the "100-year file" concept) and allows direct manipulation by text editors (VS Code, Obsidian).Git-Backed: Version control provides the ultimate safety net, allowing "fearless refactoring" of one's life structure.Deterministic Orchestration: n8n serves as the nervous system, executing the actual file operations and Git commands to prevent AI hallucinations from deleting data.8Phase 2: Landscape Scan and Technology SelectionThe selection of the technology stack is driven by the requirement for a "Git-backed Truth Layer" and the need for seamless AI integration.2.1 The Storage Layer: Files vs. DatabasesWhile graph databases like Neo4j offer powerful query capabilities, they introduce significant friction for a single-user "Life OS." They require server maintenance, are opaque to standard text search tools, and lock data into a specific format.The Case for "Flat File" Knowledge Graphs:Storing the graph as Markdown files with YAML headers offers distinct advantages for the target user:Portability: Files can be synced via Dropbox, iCloud, or Git. They are readable on any device.Interoperability: Tools like Obsidian, Logseq, and VS Code act as ready-made UIs.LLM Friendliness: LLMs are trained on vast amounts of Markdown and code. They can read and generate Markdown/YAML natively with high accuracy, whereas generating complex Cypher queries (for Neo4j) often requires higher-latency reasoning steps.10Table 1: Storage Format Trade-off AnalysisFeatureJSONYAMLMarkdown + FrontmatterHuman ReadabilityLow (Braces/Quotes noise)High (Indentation based)Very High (Natural text + Meta)Token EfficiencyHigh (Minified)ModerateModerateLLM Writing AccuracyHigh (Strict syntax)High (Context aware)High (Native training data)Comment SupportNoYesYes (In body or YAML)Git Diff ReadabilityLow (One line changes)High (Line-by-line)High (Contextual diffs)Tool EcosystemUniversal (APIs)Config FilesPKM Tools (Obsidian)Decision: The system will use Markdown with strict YAML frontmatter as the canonical storage format.2.2 The Intelligence Layer: Claude and MCPClaude (specifically the Sonnet and Opus classes) is selected for its superior reasoning capabilities and large context window, which is essential for "GraphRAG" (retrieving and synthesizing context from multiple linked notes).The Model Context Protocol (MCP):To avoid building fragile, proprietary connectors, the system utilizes the emerging MCP standard. This allows the AI agent to interact with the file system and Git repo using standardized interfaces (read_resource, call_tool).Implication: The "Life Graph" is effectively an MCP Server that exposes the user's files as resources to the Claude Client.62.3 The Orchestration Layer: n8nn8n is chosen over Zapier or Make due to its:Self-Hostability: It can run locally or on a private VPS, keeping sensitive personal data out of third-party clouds.Native Git Integration: n8n has built-in nodes for Git operations and can execute arbitrary shell scripts, enabling complex commit/push logic.7Complex Logic: It supports loops, conditional branching, and error handling, which are necessary for robust data validation pipelines.Phase 3: Schema Synthesis â€“ The "Life Graph" OntologyA database is only as good as its schema. For a "Life Graph," the schema must model not just work (tasks/projects) but the context of work (energy, roles, constraints). We will define a strict ontology using LinkML principles to ensure consistency while maintaining the flexibility of YAML.3.1 Core Entity DefinitionsThe schema is divided into "Structural Nodes" (the skeleton of the system) and "State Nodes" (the dynamic elements).3.1.1 Structural Nodes1. Area (The Domains of Life)High-level categories that have no end date.Examples: Health, Finance, Professional Development.YAML Schema:YAMLtype: area
id: area_health
title: Health & Vitality
vision: "To maintain peak cognitive function."
active_projects:]", "]"]
2. Identity (The Role)The "hat" the user wears. This is crucial for ADHD "mode switching."Examples: CEO, Writer, Father, Athlete.YAML Schema:YAMLtype: identity
id: role_writer
title: The Writer
default_context: "]"
ideal_time_block: "Morning"
3. Context (The Constraint)Where or how work can be done.Examples: @MacBook, @Phone, @Errand, LowEnergy.YAML Schema:YAMLtype: context
id: ctx_low_energy
title: Zombie Mode
allowed_tasks: ["admin", "reading", "maintenance"]
3.1.2 State Nodes4. Project (The Finite Goal)A collection of tasks with a defined outcome.YAML Schema:YAMLtype: project
id: proj_website_redesign
title: Website Redesign
status: active # [active, on_hold, incubating, done]
energy_profile: high_focus # [high_focus, creative, admin]
deadline: 2025-12-31
review_cadence: weekly
parent_area: "]"
blockers:
Insight: The energy_profile field allows the system to recommend this project only when the user reports high capacity, preventing the "Wall of Awful".15. Task (The Atomic Unit)YAML Schema:YAMLtype: task
id: task_001
title: Draft Home Page Copy
status: todo # [todo, doing, waiting, done]
parent_project: "]"
estimated_time: 30 # minutes
actual_time: null
dopamine_level: high # [low, medium, high] - Subjective fun factor
is_frog: true # Is this the hardest task of the day?
due_date: 2025-11-01
do_date: 2025-10-25 # The planned execution date
dependencies:]"]
Insight: Separating due_date (external) from do_date (internal) is a critical ADHD coping strategy to manage time blindness.146. Log (The Ephemeral Stream)Time-stamped entries capturing thoughts, meetings, or biological state.YAML Schema:YAMLtype: log
date: 2025-10-24T14:30:00
tags: ["#meeting", "#energy/low"]
linked_entities:]", "]"]
3.2 Relationship Typing (The Graph Edges)While Markdown links ([]) create undirected edges, the system requires semantic directionality for reasoning. We define these relationships in the YAML links property or implicitly through specific fields.Table 2: Semantic Edge DefinitionsRelationshipSource NodeTarget NodeMeaningHAS_PARENTTask / ProjectAreaHierarchical containmentBLOCKSTask ATask BSequential dependency (A must be done before B)ENABLESResourceProjectThe resource is required for the projectMENTIONSLogEntityReference for graph traversal (RAG)REQUIRES_STATETaskContextConstraint matching (e.g., must be at computer)3.3 Schema ValidationTo ensure the "Truth Layer" remains uncorrupted by AI hallucinations, we employ JSON Schema validation within the n8n pipeline. Before any file is written to Git, it is parsed and validated against a strict schema definition.JSON{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Task Node",
  "type": "object",
  "properties": {
    "type": { "const": "task" },
    "status": { "enum": ["todo", "doing", "waiting", "done"] },
    "dopamine_level": { "enum": ["low", "medium", "high"], "description": "Subjective reward prediction" },
    "estimated_time": { "type": "integer", "minimum": 5, "maximum": 480 }
  },
  "required": ["type", "status", "title"]
}
Ref: 15Phase 4: The Mapping Layer â€“ Natural Language to Graph MutationsThis phase addresses the most complex aspect of the system: translating unstructured, messy human language into the structured schema defined above. This "Semantic Bridge" is where the AI agent lives.4.1 The Intent Classification PipelineWhen the user inputs text (e.g., "I need to focus on the slides for the pitch, but I'm waiting on data from Bob"), the system must first determine what to do.Prompt Strategy: The Router AgentWe utilize a dedicated system prompt for the first-pass LLM (Router) to classify the input into discrete intents.Intents:CAPTURE_TASK: New actionable item.UPDATE_STATUS: Modification of existing node.LOG_REFLECTION: Journaling/Sentiment capture.QUERY: Information retrieval.REFUEL: User seeking dopamine/energy management.Example Prompt Fragment:You are the Router for a Life Graph system.Input: "I need to focus on the slides for the pitch, but I'm waiting on data from Bob"Analysis:"slides for the pitch" implies a Task or Project."waiting on data" implies a Status change (WAITING) and a Blocker."Bob" is an Entity.Output JSON:{"intents":,"entities":,"implied_status": "waiting"}Ref: 174.2 Entity Extraction and Attribute InferenceOnce the intent is known, a specialized "Extractor Agent" (Claude 3.5 Sonnet) parses the text to populate the YAML fields.The "Context-Aware" Inference:A key feature for ADHD support is inferring metadata that the user skips.User: "Call tax accountant."Inference:energy_profile: admin (boring, requires willpower).dopamine_level: low (likely to be procrastinated).estimated_time: 30 (default for calls).context: Phone.This inference allows the system to later present this task not just as "Call accountant" but as a "Low Dopamine / High Friction" task, prompting the user to pair it with a reward.14.3 The "Diff" Strategy for State MutationModifying a large Markdown file by rewriting it entirely is inefficient and prone to errors. We employ a Semantic Patching strategy.Challenge: LLMs struggle with line numbers.Solution: Search-and-Replace Blocks. The Agent is instructed to find a unique anchor (e.g., the Task ID or a unique sentence) and replace the surrounding block.Agent Instruction:"To update the status of task task_123, output a JSON object containing the search_string (exact match of the current frontmatter) and the replacement_string (the new frontmatter)."n8n Implementation:An n8n Code Node receives this JSON, reads the target file, performs the string replacement, and validates the new file structure before committing. This ensures that a hallucinated search string simply results in a "Update Failed" error rather than data corruption.19Phase 5: Deterministic Orchestration (n8n & Git)n8n serves as the "execution arm" of the system. It enforces the logic that the LLM proposes.5.1 The "Quick Capture" WorkflowThis is the primary ingestion pipeline, designed for sub-second latency in capturing ideas.Trigger: Webhook (receiving JSON from iOS Shortcut or Browser Extension).Node 1: Router (LLM): Classifies intent (Task vs. Log).Node 2: Git Pull: Ensures local repo is up-to-date to prevent merge conflicts.Branching:If Task:Node 3A: Extractor (LLM): Generates YAML for the new task.Node 4A: File Write: Creates ${Inbox_Path}/${Safe_Title}.md.If Log:Node 3B: Appender: Appends timestamped text to Daily_Log_${YYYY-MM-DD}.md.Node 5: Git Commit & Push: Executes the commit script.Bashgit add.
git commit -m "ðŸ¤– AI Capture: ${Title}"
git push origin main
Node 6: Feedback: Returns "Captured" signal to the user device.Ref: 215.2 The "Morning Briefing" Generator (GraphRAG)This workflow runs daily to orient the user.Trigger: Schedule (7:00 AM).Node 1: Context Aggregation:Read Calendar.ics (Today's hard landscape).Read Weather API.Git grep for status: active projects.Node 2: The "Frog" Hunt:Filter tasks for is_frog: true and due_date <= today.Node 3: Synthesis (Claude):Prompt: "Based on the rainy weather and the heavy meeting schedule, suggest a realistic plan. Highlight one 'Frog' to eat."Node 4: Delivery: Sends the briefing to the user's preferred notification channel (e.g., Telegram).5.3 Idempotency and Git SafetyAutomated Git operations are prone to "index lock" errors if multiple workflows run simultaneously.Safety Protocols:Serialized Execution: n8n is configured to allow only one execution of the Git Write workflow at a time.Idempotent Commit Script:The bash script used in the Execute Command node checks for changes before committing.Bashif [[ -n $(git status --porcelain) ]]; then
  git add.
  git commit -m "Auto-Update"
  git push
else
  echo "No changes to commit"
fi
Ref: 23Phase 6: Operational Playbooks and ADHD WorkflowsA tool is useless without a protocol. These playbooks describe how the user interacts with the Life Graph to manage specific ADHD symptoms.Playbook 1: "The Rescue" (Overwhelm Management)Trigger: User feels paralyzed by too many open loops.Action: User sends the keyword "RESCUE" to the system.System Response:Context Switch: The system modifies the Obsidian config (workspace.json) to hide all folders except "Inbox" and "Today."Triage Mode: The AI agent initiates a chat.Agent: "I see 15 active tasks. Let's pick just one for the next 15 minutes. How about?"Validation: Once the user agrees, the system moves all other active tasks to a "Snoozed" status, effectively clearing the visual field.Rationale: This reduces visual clutter and decision fatigue, lowering the activation energy required to start working.25Playbook 2: The "Dopamine Menu" ActivationTrigger: User reports "Low Energy" or "Boredom."Action: System queries the graph for tasks with dopamine_level: high and energy_profile: low.System Response: "You're low on energy. Here are 3 high-dopamine, low-effort tasks to build momentum:""Quickly sketch the logo idea.""Order the new book you wanted.""Reply to that one fun email."Rationale: "Dopamine Menus" are a clinically valid strategy for ADHD. Automating the retrieval of these items removes the friction of having to "think of something fun to do".1Playbook 3: The "Body Doubling" RequestTrigger: A task tagged needs_body_double: true becomes due.Action: The system checks the user's calendar for a "Co-working" slot.If found: It schedules the task for that slot.If not found: It prompts the user: "This task is hard to start alone. Shall I find a Focusmate session?" (Integration with external APIs).Phase 7: Safety Governance and Integration Planning7.1 Human-in-the-Loop (HITL)Destructive actions (Deletes, Archiving Projects) require explicit confirmation.Mechanism: n8n generates a "Wait for Webhook" URL. It sends a message to the user: "Agent proposes archiving Project X. Click [Approve] or."The workflow suspends until the user clicks, ensuring no data is lost to AI error.7.2 Integration PlanStep 1: The "Seed" (Day 1-3)Install Obsidian and the Git plugin.Set up a private GitHub repository.Define the folder structure: 00_Inbox, 10_Projects, 20_Areas, 99_Archive.Deploy the n8n "Quick Capture" workflow.Step 2: The "Parser" (Day 4-7)Refine the Router Agent prompt based on real user logs.Test the "Extractor" accuracy.Implement the JSON Schema validation in n8n.Step 3: The "Dashboard" (Day 8-14)Configure Obsidian Dataview scripts to visualize the graph.Create the "Morning Briefing" workflow.7.3 Data PrivacyThe "Local-First" architecture ensures that the primary copy of the data resides on the user's device.Encryption: The Git repo can be encrypted using git-crypt before pushing to GitHub.Local LLM: For highly sensitive journals, the system can be configured to use a local LLM (e.g., Llama 3 via Ollama) instead of Claude, trading some reasoning capability for absolute privacy.26Phase 8: Final RecommendationsThe "Life Graph" is not merely a piece of software; it is a cognitive scaffolding designed to support the specific neurobiology of the ADHD solopreneur.Embrace the "Mess": Do not try to force a perfect taxonomy. Let the "Log" be messy. Rely on the AI Agents to do the gardening (linking and tagging) in the background. The system's value comes from surfacing connections, not perfect organization.Trust the Truth Layer: By backing everything with Git, the user gains the psychological safety to experiment. If a refactor fails, git revert is always available.Invest in "Energy" Metadata: The single most impactful schema decision is tracking energy_profile. It shifts the paradigm from "Time Management" (which ADHD brains struggle with) to "Energy Management" (which is more sustainable).This architecture provides a robust, fail-safe foundation that evolves with the user, turning the chaotic stream of solopreneurial life into a navigable, actionable map.Appendix: Technical ArtifactsA. The "Life Node" JSON Schema (for n8n Validation)JSON{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LifeGraphNode",
  "type": "object",
  "properties": {
    "title": { "type": "string" },
    "type": { "enum": ["project", "task", "log", "entity", "context"] },
    "id": { "type": "string", "pattern": "^[a-z0-9-]+$" },
    "frontmatter": {
      "type": "object",
      "properties": {
        "status": { "enum": ["active", "waiting", "done", "archive"] },
        "energy_profile": { "enum": ["high_focus", "low_focus", "creative", "admin"] },
        "dopamine_level": { "enum": ["high", "medium", "low", "negative"] },
        "is_frog": { "type": "boolean" },
        "links": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["status"]
    }
  },
  "required": ["title", "type", "id"]
}
B. The n8n "Safe Commit" ScriptBash#!/bin/bash
# Set safe directory for container environments
git config --global --add safe.directory /data/life-graph
cd /data/life-graph

# Fetch latest to avoid conflicts
git fetch origin main
git reset --soft origin/main

# Check for changes
if [[ `git status --porcelain` ]]; then
  git add.
  git commit -m "ðŸ¤– Agent Update: $(date +'%Y-%m-%d %H:%M:%S')"
  git push origin main
else
  echo "No changes to commit."
fi
(End of Report)
