{
  "name": "TEST - Env Vars Check",
  "nodes": [
    {
      "parameters": {},
      "name": "When clicking 'Test workflow'",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "// Test if environment variables are accessible\nconst langfuseKey = $env.LANGFUSE_SECRET_KEY;\nconst openaiKey = $env.OPENAI_API_KEY;\n\nreturn [\n  {\n    json: {\n      test: 'env vars',\n      langfuse_key_exists: !!langfuseKey,\n      langfuse_key_length: langfuseKey ? langfuseKey.length : 0,\n      langfuse_key_prefix: langfuseKey ? langfuseKey.substring(0, 10) + '...' : 'MISSING',\n      openai_key_exists: !!openaiKey,\n      openai_key_prefix: openaiKey ? openaiKey.substring(0, 10) + '...' : 'MISSING',\n      all_env_keys: Object.keys($env)\n    }\n  }\n];"
      },
      "name": "Check Env Vars",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    }
  ],
  "connections": {
    "When clicking 'Test workflow'": {
      "main": [
        [
          {
            "node": "Check Env Vars",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}
