# Current State Map â€“ AI-OS Repository

**Purpose:** Professional mapping of existing repository structure as of 2025-11-29  
**Methodology:** Read-only inspection using filesystem + git tools  
**Approach:** Legacy system architect mindset â€“ facts only, no speculation  

---

## Executive Summary

**Repository:** `C:\Users\edri2\Desktop\AI\ai-os` (local) / `edri2or-commits/ai-os` (GitHub)  
**Git Branch:** `main`  
**Git HEAD:** `41581fae5e0fec02e5fff20b921f85f5a9f9c90c` (actual)  

**âš ï¸ DRIFT DETECTED:**  
- Truth Layer files (SYSTEM_STATE_COMPACT.json, GOVERNANCE_LATEST.json) report `last_commit: 43b308a`  
- Actual Git HEAD is `41581fae...` (different commit)  
- This is a split-brain condition documented in research files

**Current Phase:** Phase 2.3 â€“ "Stabilizing the Hands (Sync & State Alignment)"  
**Mode:** `INFRA_ONLY` + `sandbox_only` + `automations_enabled: false`  

---

## 1. Top-Level Directory Structure

```
ai-os/
â”œâ”€â”€ .git/                       # Git repository metadata
â”œâ”€â”€ .gitignore                  # Git ignore rules
â”œâ”€â”€ .env                        # Environment variables (excluded from git)
â”œâ”€â”€ .env.template               # Environment template
â”œâ”€â”€ README.md                   # Main repository documentation (detailed)
â”‚
â”œâ”€â”€ claude project/             # [NEW] Claude Desktop project materials
â”œâ”€â”€ docs/                       # Core documentation & Truth Layer
â”œâ”€â”€ governance/                 # Governance Layer (DEC, EVT, snapshots)
â”‚
â”œâ”€â”€ services/                   # MCP servers and backend services
â”œâ”€â”€ infra/                      # Infrastructure (n8n, Docker)
â”œâ”€â”€ agents/                     # Agent documentation
â”œâ”€â”€ workflows/                  # Workflow documentation
â”œâ”€â”€ policies/                   # Security & operational policies
â”œâ”€â”€ scripts/                    # Utility scripts
â”œâ”€â”€ chat/                       # Telegram bot (unclear if active)
â”œâ”€â”€ test/                       # Test fixtures
â”‚
â”œâ”€â”€ archive/                    # âœ… Archived/deprecated components
â”‚   â”œâ”€â”€ legacy/                 # Legacy architecture (superseded)
â”‚   â”‚   â””â”€â”€ ai_core/            # [ARCHIVED 2025-11-29] Pre-MCP orchestration
â”‚   â””â”€â”€ one-time/               # One-time utilities (completed)
â”‚       â””â”€â”€ tools/              # [ARCHIVED 2025-11-29] Repo initialization
â”‚
â”œâ”€â”€ [multiple root scripts]     # Start scripts, demos, tests (see Section 15)
â””â”€â”€ [miscellaneous]             # Config files, zips, temp files
```

**Migration Notes (2025-11-29):**
- âœ… `ai_core/` archived to `archive/legacy/ai_core/` (Slice 1.2a)
- âœ… `tools/` archived to `archive/one-time/tools/` (Slice 1.2b)

---

## 2. Truth Layer & State Management

### 2.1 Truth Layer Files (Authoritative State)

**Location:** `docs/system_state/`

| File | Purpose | Status |
|------|---------|--------|
| `SYSTEM_STATE_COMPACT.json` | Derived system state snapshot | âœ… DERIVED (auto-generated by reconciler_v1) |
| `timeline/EVENT_TIMELINE.jsonl` | Append-only event log | âœ… ACTIVE |
| `registries/SERVICES_STATUS.json` | Services registry | âœ… ACTIVE |
| `outbox/` | State export directory | Directory exists, appears empty |
| `agents/AGENT_CAPABILITY_PROFILE.md` | Agent capability template | Template file |

**SYSTEM_STATE_COMPACT.json metadata:**
- Schema: SYSTEM_STATE_COMPACT_V1
- Version: 1.2
- Generated: 2025-11-27T22:40:00Z
- Generated by: reconciler_v1
- **CRITICAL:** DO NOT EDIT MANUALLY â€“ auto-derived from Truth Sources

**Truth Sources (priority order):**
1. `governance/snapshots/GOVERNANCE_LATEST.json` (authoritative)
2. `docs/DECISIONS_AI_OS.md` (decision status)
3. `docs/system_state/timeline/EVENT_TIMELINE.jsonl`
4. `docs/system_state/registries/SERVICES_STATUS.json`

### 2.2 Governance Layer

**Location:** `governance/`

```
governance/
â”œâ”€â”€ DEC/                        # Decision records (governance-specific)
â”‚   â””â”€â”€ DEC_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md
â”œâ”€â”€ EVT/                        # Event logs (governance-specific)
â”‚   â””â”€â”€ EVT_GOVERNANCE_TRUTH_BOOTSTRAP_V1_20251127_174131.json
â”œâ”€â”€ metrics/                    # (empty) Computed metrics storage
â”œâ”€â”€ scripts/                    # Measurement scripts
â”‚   â”œâ”€â”€ generate_snapshot.py   # âœ… OPERATIONAL (270+ lines)
â”‚   â”œâ”€â”€ measure_friction.py    # âŒ STUB
â”‚   â”œâ”€â”€ measure_cci.py         # âŒ STUB
â”‚   â”œâ”€â”€ measure_tool_efficacy.py # âŒ STUB
â”‚   â””â”€â”€ smoke_test_truth_layer.py
â”œâ”€â”€ snapshots/                  # Governance snapshots
â”‚   â”œâ”€â”€ GOVERNANCE_LATEST.json # âœ… ACTIVE (pointer to latest)
â”‚   â””â”€â”€ SNAPSHOT_*.json        # Historical snapshots (6 files)
â””â”€â”€ README.md                   # Governance documentation
```

**Snapshot Generation Status:**
- `generate_snapshot.py` is OPERATIONAL (DEC-010)
- Calculates FITNESS_001 (Friction) and FITNESS_002 (CCI) metrics
- Sources: EVENT_TIMELINE, SYSTEM_STATE_COMPACT, SERVICES_STATUS, git metadata
- Output: Timestamped snapshots + GOVERNANCE_LATEST.json pointer

**Current Metrics (from GOVERNANCE_LATEST.json):**
```json
"fitness_metrics": {
  "FITNESS_001_FRICTION": {
    "open_gaps_count": 8,
    "time_since_last_daily_context_sync_minutes": 252,
    "recent_error_events_count": 0
  },
  "FITNESS_002_CCI": {
    "active_services_count": 10,
    "total_services_count": 15,
    "recent_event_types_count": 12,
    "recent_work_blocks_count": 11,
    "pending_decisions_count": 2
  }
}
```

---

## 3. Core Documentation (`docs/`)

**Location:** `docs/`

### 3.1 Core Policy & Architecture Documents

| File | Purpose | Notes |
|------|---------|-------|
| `CONSTITUTION.md` | 9 foundational principles | Referenced in README |
| `CAPABILITIES_MATRIX.md` | 22 documented capabilities | v1.1, tracks all system capabilities |
| `DECISIONS_AI_OS.md` | Critical decisions log | 10 decisions (DEC-001 through DEC-010) |
| `SYSTEM_SNAPSHOT.md` | System state overview | Appears to be a template/doc |
| `INFRA_MAP.md` | Infrastructure mapping | Documents services & ports |

### 3.2 Specifications & Protocols

```
docs/
â”œâ”€â”€ active_plans/               # Current phase plans
â”‚   â”œâ”€â”€ PHASE2_Stabilizing_The_Hands.md
â”‚   â”œâ”€â”€ PLAN_AI_OS_EVOLUTION.md
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ completed_plans/            # Archived plans (appears empty)
â”œâ”€â”€ protocols/                  # Operational protocols
â”‚   â”œâ”€â”€ CHAT_BOOTSTRAP_PROTOCOL_V1.md
â”‚   â”œâ”€â”€ SLICE_TO_PR_PIPELINE_V1.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ slices/                     # Slice specifications
â”‚   â”œâ”€â”€ SLICE_GITHUB_PR_AUTOMATOR_V1.md
â”‚   â”œâ”€â”€ SLICE_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md
â”‚   â”œâ”€â”€ SLICE_DAILY_CONTEXT_SYNC_N8N_V1.md
â”‚   â””â”€â”€ ... (8 slice specs total)
â”œâ”€â”€ runbooks/                   # Operational runbooks
â”‚   â””â”€â”€ END_TO_END_SLICE_TO_PR_DEMO_V1.md
â”œâ”€â”€ blocks/                     # Building block specs
â”‚   â””â”€â”€ BLOCK_POWERSHELL_STABILITY_AND_HEALTHCHECK_V1.md
â””â”€â”€ sync_contracts/             # Agent sync contracts
    â”œâ”€â”€ PR_CONTRACT_V1.md
    â””â”€â”€ SLICE_SYNC_WRITE_CONTRACT_PR_V1_SPEC.md
```

### 3.3 Agent & Service Documentation

Multiple files documenting:
- Agent Gateway API specs
- Agent capability profiles
- Agent sync protocols
- Control plane specifications
- Custom GPT operator specs
- Session initialization checklists

**Observation:** Heavy emphasis on multi-agent coordination and sync protocols.

---

## 4. Services (`services/`)

**Location:** `services/`

### 4.1 MCP Servers

| Service | Port | Purpose | Status |
|---------|------|---------|--------|
| `mcp_github_client` | 8081 | GitHub API wrapper | âœ… OPERATIONAL |
| `google_workspace_client` | 8082 | Google Workspace API | âœ… OPERATIONAL (READ) |
| `os_core_mcp` | 8083 | OS Core unified gateway to State Layer | âœ… OPERATIONAL |
| `agent_kernel` | 8084 | LangGraph-based Agent Kernel | âœ… OPERATIONAL |

### 4.2 Service Details

#### `mcp_github_client/`
```
mcp_github_client/
â”œâ”€â”€ api/routes_github.py        # GitHub API routes
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ mcp_client.py          # MCP client wrapper
â”‚   â””â”€â”€ openai_client.py       # OpenAI integration
â”œâ”€â”€ models/schemas.py          # Pydantic schemas
â”œâ”€â”€ main.py                    # FastAPI server
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md                  # Comprehensive documentation
â”œâ”€â”€ STABILITY_AUDIT.md         # Stability improvements doc
â”œâ”€â”€ STABILIZATION_SUMMARY.md
â”œâ”€â”€ .env / .env.template
â”œâ”€â”€ tests/
â”œâ”€â”€ pytest.ini
â””â”€â”€ run_service.bat            # Windows launcher
```

**Features:** Full GitHub integration (read, write, branches, PRs, commits)

#### `google_workspace_client/`
```
google_workspace_client/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ routes_calendar.py
â”‚   â”œâ”€â”€ routes_docs.py
â”‚   â”œâ”€â”€ routes_drive.py
â”‚   â”œâ”€â”€ routes_gmail.py
â”‚   â”œâ”€â”€ routes_sheets.py
â”‚   â”œâ”€â”€ routes_tasks.py
â”‚   â””â”€â”€ routes_github_placeholder.py
â”œâ”€â”€ core/google_client.py      # Google API client
â”œâ”€â”€ models/schemas.py
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

**Features:** Google Calendar, Gmail, Drive, Docs, Sheets, Tasks (READ operations)

#### `os_core_mcp/`
```
os_core_mcp/
â”œâ”€â”€ server.py                  # FastAPI server
â”œâ”€â”€ reconciler.py              # State Layer reconciler_v1 (âœ… OPERATIONAL)
â”œâ”€â”€ smoke_test.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

**Purpose:** Unified HTTP gateway to State Layer + reconciler for drift detection

#### `agent_kernel/`
```
agent_kernel/
â”œâ”€â”€ graphs/
â”‚   â”œâ”€â”€ daily_context_sync_graph.py  # LangGraph workflow
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ kernel_server.py           # FastAPI server
â”œâ”€â”€ smoke_test_slice_2a.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

**Purpose:** LangGraph-based orchestration for Daily Context Sync (DEC-009)

### 4.3 Other Services

| Service | Purpose | Notes |
|---------|---------|-------|
| `chat1_status_updater.py` | Chat1 status updater | Unclear if active |
| `claude_healthcheck.py` | Claude healthcheck | Script exists |

---

## 5. Infrastructure (`infra/`)

**Location:** `infra/n8n/`

```
infra/n8n/
â”œâ”€â”€ docker-compose.yml         # n8n Docker setup
â”œâ”€â”€ ENV_TEMPLATE.env          # Environment template
â”œâ”€â”€ .env                      # (excluded from git)
â”œâ”€â”€ workflows/                # n8n workflow exports
â”‚   â””â”€â”€ daily_context_sync_orchestrator_v1.json
â”œâ”€â”€ data/                     # (created on first run, excluded from git)
â”‚   â”œâ”€â”€ database.sqlite
â”‚   â””â”€â”€ credentials/
â””â”€â”€ README.md
```

**Status:**
- âœ… n8n infrastructure ready (DEC-006)
- âœ… Daily Context Sync Orchestrator V1 workflow available
- âŒ No live workflows running yet (Phase 2.3 - INFRA_ONLY)
- âŒ No Google/GitHub credentials configured

**Decision:** DEC-006 (n8n as Automation Kernel - approved)

---

## 6. Claude Project Materials (`claude project/`)

**NEW DISCOVERY:** Dedicated folder for Claude Desktop project work.

```
claude project/
â”œâ”€â”€ instructions/              # Claude instructions
â”‚   â”œâ”€â”€ ai-life-os-agentic-claude project-kernel-instructions.md
â”‚   â””â”€â”€ Claude_New_Chat_Bootstrap_EN.md
â”œâ”€â”€ research_claude/           # Research files (29 .md files)
â”‚   â”œâ”€â”€ 01_architectural-blueprint_phase-3-ai-os.md
â”‚   â”œâ”€â”€ 02_ai-life-os_deterministic-reliability.md
â”‚   â”œâ”€â”€ ... (01 through 18)
â”‚   â”œâ”€â”€ ai-life-os-agentic-claude project-kernel-instructions.md
â”‚   â”œâ”€â”€ ai-life-os-claude-project-playbook.md
â”‚   â”œâ”€â”€ Architecting_Personal_AI_Life_OS.md
â”‚   â””â”€â”€ msg_019.md through msg_027.md
â”œâ”€â”€ system_mapping/            # [JUST CREATED] Phase 0 mapping outputs
â”‚   â””â”€â”€ current_state_map.md  # (this file)
â”œâ”€â”€ Knowl/                     # (duplicate of research_claude?)
â”œâ”€â”€ ××—×¡×Ÿ ××—×§×¨×™×/              # Hebrew: "Research Warehouse"
â”‚   â”œâ”€â”€ (duplicates + some conversation notes)
â”‚   â””â”€â”€ ××™×š ×¢×•×‘×“×™× ×¢× ×§×œ×•×“/  # Hebrew: "How to work with Claude"
â”œâ”€â”€ ai-life-os-claude-project-playbook.md
â”œâ”€â”€ README_Hebrew.md
â”œâ”€â”€ Hallucination Guardrails for Claude Desktop Kernel (Personal AI Life OS).pdf
â”œâ”€â”€ 1. Restated Context & Assumptions.pdf
â””â”€â”€ ... (various Word/RTF docs in Hebrew)
```

**Observations:**
- **research_claude/** contains 29 research files (confirmed in project knowledge)
- **Knowl/** appears to be a duplicate or earlier version
- **××—×¡×Ÿ ××—×§×¨×™×/** (Research Warehouse) has duplicates + conversation notes
- **system_mapping/** was just created for Phase 0 work
- Multiple Hebrew-language documents (instructions, checklists, roadmaps)

**Purpose:** This folder appears to be the **"Claude Desktop project root"** referenced in kernel instructions, containing all research and working materials for building the Personal AI Life OS.

---

## 7. Core AI Components (`ai_core/`)

```
ai_core/
â”œâ”€â”€ action_executor.py         # Executes validated actions
â”œâ”€â”€ agent_gateway.py           # Agent gateway
â”œâ”€â”€ agent_gateway_server.py   # FastAPI server for gateway
â”œâ”€â”€ gpt_orchestrator.py        # GPT planner integration
â”œâ”€â”€ intent_router.py           # Routes user intents
â”œâ”€â”€ intents_router.md          # Intent router documentation
â””â”€â”€ ssot_writer.py            # SSOT update writer
```

**Purpose:** Core orchestration components for multi-agent system.  
**Status:** Unclear which components are active vs. legacy.

---

## 8. Agents, Workflows, Tools, Policies

### 8.1 Agents (`agents/`)

```
agents/
â”œâ”€â”€ AGENTS_INVENTORY.md        # Agent inventory
â””â”€â”€ GPT_GITHUB_AGENT.md        # GPT GitHub Agent spec
```

**Purpose:** Agent documentation and specifications.

### 8.2 Workflows (`workflows/`)

```
workflows/
â”œâ”€â”€ DECISION_LOGGING_AND_SSOT_UPDATE.md
â”œâ”€â”€ GITHUB_PLANNING_DRY_RUN.md
â””â”€â”€ IRON_TEST_WF.md
```

**Purpose:** Workflow documentation (DRY RUN planning, decision logging, testing).

### 8.3 Tools (`tools/`)

```
tools/
â”œâ”€â”€ repo_bootstrap_agent.py
â”œâ”€â”€ repo_introspection_agent.py
â”œâ”€â”€ repo_reader_base.py
â”œâ”€â”€ system_init.py
â””â”€â”€ TOOLS_INVENTORY.md
```

**Purpose:** Repository introspection and bootstrapping tools.

### 8.4 Policies (`policies/`)

```
policies/
â”œâ”€â”€ HUMAN_TECH_INTERACTION_POLICY.md
â””â”€â”€ SECURITY_SECRETS_POLICY.md
```

**Purpose:** Security and operational policies.  
**Security Policy:** Comprehensive 4-principle secrets management (No Plain Text, Never Display, Human Auth, Minimal Privilege).

---

## 9. Scripts & Utilities (`scripts/`)

```
scripts/
â”œâ”€â”€ create_pr_intent.py
â”œâ”€â”€ move_completed_plan.py
â”œâ”€â”€ open_pr_for_branch.py
â”œâ”€â”€ pr_worker.py
â”œâ”€â”€ publish_slice_as_pr.py
â””â”€â”€ validate_bootstrap_response.py
```

**Purpose:** Automation scripts for PR creation, plan management, validation.

---

## 10. Test Infrastructure (`test/`)

```
test/
â””â”€â”€ bootstrap_responses/
    â”œâ”€â”€ bad_handshake.txt
    â””â”€â”€ good_handshake.txt
```

**Purpose:** Test fixtures for bootstrap validation.

**Root-level test files:**
Multiple test_*.py files in root (test_e2e.py, test_gateway.py, test_slice*.py, etc.)

---

## 11. Root-Level Files

| File | Purpose | Notes |
|------|---------|-------|
| `README.md` | Main documentation | Comprehensive (2.0 version, Google Workspace integration) |
| `.gitignore` | Git exclusions | Comprehensive (secrets, env, logs, local configs) |
| `.env` / `.env.template` | Environment variables | Template provided, .env excluded from git |
| `requirements.txt` | Python dependencies | Root-level dependencies |
| `Dockerfile` / `Dockerfile.google` | Docker images | Two Dockerfiles (unclear usage) |
| `start*.py` / `start*.bat` | Service launchers | Multiple start scripts |
| `commit_msg*.txt` / `pr_body*.txt` | Git templates | Commit message and PR templates |
| Various .py files | Utilities & demos | demo_loop.py, execute_demo.py, run_*.py, etc. |
| Various .json files | Configuration/data | plan_output.json, temp_plan.json, demo_plan.json |

---

## 12. Git Status & Branches

**Current Branch:** `main`  
**HEAD Commit:** `41581fae5e0fec02e5fff20b921f85f5a9f9c90c`

**Feature Branches (from .git/refs/heads/):**
- `feature/mcp-github-client-init`
- `feature/slice_github_pr_automator_v1`
- `feature/slice_governance_truth_bootstrap_v1`
- `infra/slice-1-2a`

**Remote Branches:** 25+ PR branches in `origin/` (ai-os-pr-YYYYMMDD-HHMMSS pattern)

**âš ï¸ CRITICAL DRIFT:**
- Truth Layer files report: `last_commit: 43b308a`
- Actual Git HEAD: `41581fae...`
- **This is a split-brain condition** â€“ State Layer is out of sync with actual Git state.

---

## 13. Likely Truth/State Files

**Authoritative Truth Sources:**
1. `governance/snapshots/GOVERNANCE_LATEST.json` â€“ System state, services, fitness metrics
2. `docs/DECISIONS_AI_OS.md` â€“ Decision status (authoritative)
3. `docs/system_state/timeline/EVENT_TIMELINE.jsonl` â€“ Event log
4. `docs/system_state/registries/SERVICES_STATUS.json` â€“ Services registry

**Derived State:**
- `docs/system_state/SYSTEM_STATE_COMPACT.json` â€“ Auto-generated by reconciler_v1 (DO NOT EDIT)

**DEC Files (Decision Records):**
- `governance/DEC/DEC_GOVERNANCE_TRUTH_BOOTSTRAP_V1.md` (only one found)

**EVT Files (Event Records):**
- `governance/EVT/EVT_GOVERNANCE_TRUTH_BOOTSTRAP_V1_20251127_174131.json` (only one found)

**Observation:** Governance DEC/EVT structure is minimal â€“ only one record each. Decision records appear to be centralized in `docs/DECISIONS_AI_OS.md` instead.

---

## 14. Likely Automations / n8n / Infra Files

**n8n Infrastructure:**
- `infra/n8n/docker-compose.yml` â€“ n8n Docker setup
- `infra/n8n/workflows/daily_context_sync_orchestrator_v1.json` â€“ Workflow export

**Service Launchers:**
- `services/mcp_github_client/run_service.bat`
- Various `start*.py` and `start*.bat` in root

**Docker:**
- `Dockerfile` / `Dockerfile.google`
- `docker-compose.yml` (not found in root â€“ only in infra/n8n/)

**Automation Scripts:**
- `scripts/publish_slice_as_pr.py`
- `scripts/pr_worker.py`

**Current Status:** INFRA_ONLY mode â€“ infrastructure ready but no automations running.

---

## 15. Likely MCP / Claude Config Files

**MCP Server Configurations:**
- `services/mcp_github_client/config.py`
- `services/google_workspace_client/config.py`
- `services/os_core_mcp/` (appears to be config-less or uses defaults)
- `services/agent_kernel/` (appears to be config-less or uses defaults)

**Claude Project Config:**
- `claude project/instructions/ai-life-os-agentic-claude project-kernel-instructions.md`
- `claude project/ai-life-os-claude-project-playbook.md`

**Environment Variables:**
- `.env` (excluded from git)
- `.env.template` (template provided)
- `infra/n8n/.env` (excluded from git)
- `infra/n8n/ENV_TEMPLATE.env`
- `services/mcp_github_client/.env` / `.env.template`

**Credentials:**
- `credentials.json` / `client_secret.json` (in root â€“ for Google OAuth)
- `token.json` (in root â€“ OAuth token, excluded from git)

---

## 16. Other Potentially Important Structures

### 16.1 Archive (`archive/`)

```
archive/
â”œâ”€â”€ FULL_ACCESS_SANDBOX.md
â”œâ”€â”€ IMG_5388.PNG / IMG_5389.PNG
â””â”€â”€ research/
    â”œâ”€â”€ Five Foundational Principles for Autonomous Infrastructure and AI Agents.pdf
    â””â”€â”€ Shared Memory (Blackboard) vs. Event-Sourced Sessions.pdf
```

**Purpose:** Historical materials, archived research PDFs.

### 16.2 Chat (`chat/`)

```
chat/
â””â”€â”€ telegram_bot.py
```

**Purpose:** Telegram bot integration (unclear if active).

### 16.3 Reports (`reports/`)

```
reports/
â”œâ”€â”€ healthcheck_20251125_105306.json
â””â”€â”€ healthcheck_20251126_124724.json
```

**Purpose:** Healthcheck reports (2 files, from 2025-11-25 and 2025-11-26).

### 16.4 Session & Logs

- `SESSION_SUMMARY_20251127.md` (in root)
- `EVENT_TIMELINE.jsonl` (in root â€“ appears to be duplicate of docs/system_state/timeline/EVENT_TIMELINE.jsonl)

### 16.5 Empty/Unclear Directories

- `maby relevant/` â€“ Empty (typo: should be "maybe")
- `mcp/` â€“ Empty
- `××—×§×¨×™ ××¨×›×™×˜×§×˜×•×¨×”/` â€“ Empty (Hebrew: "Architecture Research")

---

## 17. Open Questions & Uncertainties

### 17.1 Active vs. Legacy Components

**Uncertain:**
- Is `ai_core/` active or legacy? (action_executor, agent_gateway, gpt_orchestrator, etc.)
- Is `telegram_bot.py` in use?
- Which root-level test_*.py files are active vs. legacy?
- Are Dockerfile and Dockerfile.google in use?

**Need Clarification:**
- What is the relationship between `claude project/research_claude/` and `claude project/Knowl/`? (duplicate content)
- Why is there an `EVENT_TIMELINE.jsonl` in root AND in `docs/system_state/timeline/`?

### 17.2 Current vs. Target Architecture

**Observations:**
- Heavy multi-agent infrastructure (agent_gateway, gpt_orchestrator, intent_router)
- But current mode is INFRA_ONLY with automations_enabled: false
- Suggests: infrastructure built but not yet activated

**Questions:**
- Which components are Phase 2.3 (current) vs. Phase 3+ (future)?
- What is the relationship between GPT GitHub Agent (in `agents/`) and current MCP clients?

### 17.3 Drift & Reconciliation

**Known Issue:**
- âš ï¸ Git HEAD (41581fae...) â‰  Truth Layer reported commit (43b308a)
- reconciler_v1 exists and is operational, but drift persists
- **Question:** Why wasn't drift auto-corrected by reconciler?

**Possible Hypotheses:**
1. Reconciler only runs on-demand (not scheduled)
2. Reconciler detects but doesn't auto-fix this specific drift type
3. Truth Layer was last reconciled before latest commit

### 17.4 Phase & Mode Clarity

**Current State:**
- Phase: 2.3 â€“ "Stabilizing the Hands"
- Mode: INFRA_ONLY
- automations_enabled: false
- sandbox_only: true

**Questions:**
- What defines "Stabilizing the Hands"?
- What criteria must be met to move to Phase 2.4 or Phase 3?
- What does "sandbox_only" mean in practice?

### 17.5 Service Health

**Reported Metrics:**
- 10 services UP
- 3 services PARTIAL
- 1 service PLANNED
- 1 service NOT_CONFIGURED
- 0 services BROKEN

**Questions:**
- Which services are PARTIAL and why?
- Which service is PLANNED?
- Which service is NOT_CONFIGURED?
- See: `docs/system_state/registries/SERVICES_STATUS.json` for details

---

## 18. Summary & Recommendations

### 18.1 What Exists Today

**Strengths:**
1. âœ… Comprehensive Truth Layer with reconciler_v1
2. âœ… Governance Layer with operational snapshot generation
3. âœ… 4 MCP servers (GitHub, Google, OS Core, Agent Kernel)
4. âœ… n8n infrastructure ready
5. âœ… Extensive documentation (policies, protocols, slices, runbooks)
6. âœ… 29 research files in `claude project/research_claude/`
7. âœ… Security-first approach (secrets policy, .gitignore)

**Weaknesses:**
1. âš ï¸ Drift between Git HEAD and Truth Layer
2. âš ï¸ Unclear which components are active vs. legacy (especially `ai_core/`)
3. âš ï¸ Duplicate structures (EVENT_TIMELINE in root + docs/, research in multiple folders)
4. âš ï¸ Empty directories suggest incomplete cleanup or future structure
5. âš ï¸ INFRA_ONLY mode â€“ infrastructure built but not operational

### 18.2 Architecture Pattern Observed

**Clear Pattern:**
- **Truth Layer** (Markdown + JSON + JSONL) as single source of truth
- **Governance Layer** for metrics, snapshots, decisions
- **MCP Servers** as "Hands" (GitHub, Google, OS Core, Agent Kernel)
- **Claude Desktop** as "Head" (reasoning, orchestration)
- **n8n** as automation kernel (temporal/scheduled tasks)

**Alignment with Research:**
- Matches "Semantic Microkernel" pattern from research files
- Chatâ†’Specâ†’Change workflow evident in protocols/
- Dual Truth Architecture (Policy + Observed State) partially implemented
- Circuit breakers mentioned in research but not seen in code yet

### 18.3 Next Steps for Phase 0

1. âœ… **current_state_map.md** â€“ COMPLETE (this document)
2. ğŸ“‹ **target_architecture_summary.md** â€“ Extract from 29 research files
3. ğŸ“‹ **current_vs_target_matrix.md** â€“ Map existing elements to target roles
4. ğŸ“‹ **migration_plan.md** â€“ Design slice-based migration

**Approval Required:** Wait for user confirmation before proceeding to Step 2.

---

**Document Version:** 1.0  
**Created:** 2025-11-29  
**By:** Claude Desktop (Phase 0, Step 1)  
**Method:** Read-only filesystem + git inspection  
**Confidence:** High (fact-based, no speculation beyond labeled hypotheses)